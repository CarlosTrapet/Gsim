<p>Clone {{ upgrade.effect[0].output() | longnum }} new magic.</p><p>You produce {{ game.unit('larva').velocity().times(options.velocityUnit().mult) | longnum }} magic per {{options.velocityUnit().label}}, allowing you to clone up to
<span ng-if="game.unit('cocoon').isVisible() && game.unit('cocoon').count().greaterThanOrEqualTo(upgrade.effect[0].cap())">{{ upgrade.effect[0].cap() | longnum }} magic.</span>
<span ng-if="!(game.unit('cocoon').isVisible() && game.unit('cocoon').count().greaterThanOrEqualTo(upgrade.effect[0].cap()))">
  <a ng-href="#{{game.unit('cocoon').url()}}?num={{'@'+upgrade.effect[0].cap()|encodeURIComponent}}">{{ upgrade.effect[0].cap() | longnum }} magic</a>.
</span>
You have {{ upgrade.effect[0].bank() | longnum}} magic and potent available to clone.</p>
